class Accordion{constructor(t){this.el=t,this.summary=t.querySelector("summary"),this.content=t.querySelector(".content"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",t=>this.onClick(t))}onClick(t){t.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;var t=this.el.offsetHeight+"px",i=this.summary.offsetHeight+"px";this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,i]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.height=this.el.offsetHeight+"px",this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;var t=this.el.offsetHeight+"px",i=this.summary.offsetHeight+this.content.offsetHeight+"px";this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[t,i]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(t){this.el.open=t,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}document.querySelectorAll("details").forEach(t=>{new Accordion(t)});const DARK_MODE_KEY="darkMode";let dark="true"===localStorage.getItem(DARK_MODE_KEY),btn=document.querySelector(".mode");function updateDarkMode(t){dark=t,document.body.classList.toggle("dark",t),btn.textContent=t?"â˜€ï¸":"ðŸŒ‘",btn.classList.toggle("mode",!t),btn.classList.toggle("mode-dark",t),localStorage.setItem(DARK_MODE_KEY,t);const i=document.querySelector("iframe.utterances-frame");i&&i.contentWindow.postMessage({type:"set-theme",theme:t?"github-dark":"github-light"},"https://utteranc.es/"),updateHighlightTheme(t)}function updateHighlightTheme(t){const i=document.querySelector('link[href*="highlight.js"]');i&&(i.href=t?"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github-dark-dimmed.min.css":"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github.min.css")}updateDarkMode(dark),btn.addEventListener("click",()=>{updateDarkMode(!dark)});